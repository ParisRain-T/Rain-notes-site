---
title: P0 技术决策（ADR）
draft: false
---

# P0 技术决策（ADR）

> 记录关键取舍的「为什么」，让你后续迭代不会反复纠结。

---

## ADR-001：路径B（网关：mac/Pi）作为主线

**日期**：2025-12-24  
**状态**：已确定

**背景**：你需要最快打穿闭环，并建立可观测、可复现、可验收的工程能力。  
**决定**：先用网关（mac/Pi）完成 P0 v1.0，再考虑路径A（ESP32 自联网）。  
**理由**：调试更舒服、故障定位更容易、迭代更快。  
**后果**：真“产品化设备自联网”放到后续加分线（见 [[路径A-STM32+ESP32-可选升级]]）。

---

## ADR-002：协议/Topic/API/DB 以单一真相冻结

**日期**：2025-12-24  
**状态**：已确定

**背景**：三端联调最常见的失败是“字段漂移/命名漂移”。  
**决定**：v1 冻结 3–6 个月，改动走 v2（见 [[P0_SPEC_v1]]）。  
**理由**：避免无限返工，保证 Gate 可持续通过。  
**后果**：要改就写清兼容策略/迁移策略。

