---
title: 外卖小程序架构
publish: true
---


> 多商户外卖平台的技术架构说明

## 系统概览

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   用户端    │     │   商家端    │     │   管理后台  │
│  小程序     │     │  小程序     │     │  Web       │
└──────┬──────┘     └──────┬──────┘     └──────┬──────┘
       │                   │                   │
       └───────────────────┼───────────────────┘
                           │
                    ┌──────▼──────┐
                    │  云开发     │
                    │  云函数     │
                    └──────┬──────┘
                           │
              ┌────────────┼────────────┐
              │            │            │
        ┌─────▼─────┐ ┌────▼────┐ ┌─────▼─────┐
        │  云数据库  │ │ 云存储  │ │ 微信支付  │
        └───────────┘ └─────────┘ └───────────┘
```

## 技术栈

| 层级 | 技术选型 |
|------|----------|
| 前端 | 微信小程序原生 + WXML/WXSS |
| 后端 | 微信云开发云函数（Node.js） |
| 数据库 | 云开发数据库（MongoDB） |
| 存储 | 云开发云存储 |
| 支付 | 微信支付 |

## 核心模块

### 1. 用户模块

- 微信授权登录
- 用户信息管理
- 收货地址管理

### 2. 商品模块

- 商品分类展示
- 商品详情页
- 购物车功能

### 3. 订单模块

- 订单创建与支付
- 订单状态流转
- 订单历史查询

### 4. 商家模块

- 商家入驻审核
- 商品管理
- 订单处理

## 数据流

1. 用户浏览商品 → 加入购物车
2. 用户下单 → 调用云函数创建订单
3. 云函数调起微信支付
4. 支付成功 → 更新订单状态
5. 商家接单 → 配送 → 完成

## 安全设计

- 云函数端校验用户身份
- 敏感操作需验证 openid
- 支付回调验签

---

> 详细的 API 设计和数据模型请查看项目仓库
