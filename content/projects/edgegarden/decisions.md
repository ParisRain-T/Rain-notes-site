---
title: EdgeGarden 技术决策
publish: true
---

# EdgeGarden 技术决策记录

> 记录每一个关键技术选型的「为什么」

## 决策格式

每条决策包含：
- **背景**：当时面临什么问题
- **选项**：考虑过哪些方案
- **决定**：最终选了什么
- **理由**：为什么这么选
- **后果**：这个选择带来了什么

---

## ADR-001：设备端选用 ESP32

**日期**：2025-xx-xx

**背景**：
需要选择一款支持 WiFi 的微控制器，能够读取传感器并上报数据。

**选项**：
1. Arduino Uno + WiFi Shield
2. ESP8266
3. ESP32

**决定**：选择 ESP32

**理由**：
- 内置 WiFi + 蓝牙，无需额外模块
- 双核处理器，性能充足
- 社区资源丰富，PlatformIO 支持好
- 价格低（约 20-30 元）

**后果**：
- 学习曲线比 Arduino 稍陡
- 需要了解 FreeRTOS 基础

---

## ADR-002：通信协议选用 MQTT

**日期**：2025-xx-xx

**背景**：
设备需要将传感器数据上报到云端。

**选项**：
1. HTTP RESTful
2. MQTT
3. CoAP

**决定**：选择 MQTT

**理由**：
- 专为 IoT 设计，轻量高效
- 发布/订阅模式，解耦设备和应用
- 支持 QoS，保证消息可靠性
- 阿里云 IoT 原生支持

**后果**：
- 需要额外搭建/使用 MQTT Broker
- Topic 设计需要规划

---

## ADR-003：后端选用 Go

**日期**：2025-xx-xx

**背景**：
需要一个后端服务来接收 MQTT 消息、存储数据、提供 API。

**选项**：
1. Python + Flask
2. Node.js + Express
3. Go

**决定**：选择 Go

**理由**：
- 高性能，适合处理大量设备连接
- 单二进制部署，运维简单
- 想学习 Go 语言，增加技术栈

**后果**：
- 开发速度比 Python 稍慢
- 生态不如 Node.js 丰富

---

> 持续更新中...
